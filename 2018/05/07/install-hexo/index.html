<h2 id="基于-Ubuntu-搭建-Hexo-个人博客"><a href="#基于-Ubuntu-搭建-Hexo-个人博客" class="headerlink" title="基于 Ubuntu 搭建 Hexo 个人博客"></a>基于 Ubuntu 搭建 Hexo 个人博客</h2><h3 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h3><h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git-core -y</span><br></pre></td></tr></table></figure>
<h3 id="安装-Node-js"><a href="#安装-Node-js" class="headerlink" title="安装 Node.js"></a>安装 Node.js</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class="line">source ~/.profile</span><br><span class="line">nvm install stable</span><br></pre></td></tr></table></figure>
<h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><h3 id="安装cnpm"><a href="#安装cnpm" class="headerlink" title="安装cnpm"></a>安装cnpm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>先创建一个文件夹比如 hexo 用来安装 Hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir hexo</span><br><span class="line">cd hexo</span><br><span class="line">cnpm install -g hexo-cli</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<h3 id="测试安装成功"><a href="#测试安装成功" class="headerlink" title="测试安装成功"></a>测试安装成功</h3><p>此时已经安装成功了，下面启动一下hexo服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>然后打开浏览器访问自己[主机的ip:4000]就可以访问自己搭建的博客页面了</p>
<h2 id="将博客部署到-GitHub"><a href="#将博客部署到-GitHub" class="headerlink" title="将博客部署到 GitHub"></a>将博客部署到 GitHub</h2><h3 id="如果没有-GitHub-账户的先去GitHub，有-GitHub-账户的直接下一步"><a href="#如果没有-GitHub-账户的先去GitHub，有-GitHub-账户的直接下一步" class="headerlink" title="如果没有 GitHub 账户的先去GitHub，有 GitHub 账户的直接下一步"></a>如果没有 GitHub 账户的先去<a href="https://github.com/" target="_blank" rel="noopener">GitHub</a>，有 GitHub 账户的直接下一步</h3><h3 id="设置user-name-和-user-email-把以下命令中的”Your-user-name”和”You-user-email”换成自己的"><a href="#设置user-name-和-user-email-把以下命令中的”Your-user-name”和”You-user-email”换成自己的" class="headerlink" title="设置user.name 和 user.email 把以下命令中的”Your user.name”和”You user.email”换成自己的"></a>设置user.name 和 user.email 把以下命令中的”Your user.name”和”You user.email”换成自己的</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Your user.name&quot;</span><br><span class="line">git config --global user.email &quot;You user.email&quot;</span><br></pre></td></tr></table></figure>
<h3 id="生成-SSH-密匙-user-email-就是自己注册-GitHub-的邮箱"><a href="#生成-SSH-密匙-user-email-就是自己注册-GitHub-的邮箱" class="headerlink" title="生成 SSH 密匙 user.email 就是自己注册 GitHub 的邮箱"></a>生成 SSH 密匙 user.email 就是自己注册 GitHub 的邮箱</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C user.email</span><br></pre></td></tr></table></figure>
<p>下面要填要保存到的路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/ubuntu/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<p>然后下面直接回车回车</p>
<h3 id="查看ssh密匙"><a href="#查看ssh密匙" class="headerlink" title="查看ssh密匙"></a>查看ssh密匙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /home/ubuntu/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<h3 id="在-GitHub-账户下添加-SSH-key"><a href="#在-GitHub-账户下添加-SSH-key" class="headerlink" title="在 GitHub 账户下添加 SSH key"></a>在 GitHub 账户下添加 SSH key</h3><p><a href="https://github.com/settings/keys" target="_blank" rel="noopener">去GitHub添加SSH key</a></p>
<h3 id="创建GitHub仓库"><a href="#创建GitHub仓库" class="headerlink" title="创建GitHub仓库"></a>创建GitHub仓库</h3><p>命名格式为”账户的userName”.github.io<br>例如 ： zhangsan.github.io<br>去<a href="https://github.com/new" target="_blank" rel="noopener">创建GitHub仓库</a></p>
<h3 id="修改hexo配置文件"><a href="#修改hexo配置文件" class="headerlink" title="修改hexo配置文件"></a>修改hexo配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/hexo/_config.yml</span><br></pre></td></tr></table></figure>
<p>修改如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">	repo: git@github.com:(BoView)/(BoView).github.io.git #括号里面换成自己的用户名和仓库名,去掉括号</span><br><span class="line">	branch: master</span><br></pre></td></tr></table></figure>
<p>然后保存一下</p>
<h3 id="测试并部署"><a href="#测试并部署" class="headerlink" title="测试并部署"></a>测试并部署</h3><p>清空静态页面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure></p>
<p>生成静态页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<p>将public文件内容部署到github仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>如果部署遇到错误的时候，先运行下面这条命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>然后重新部署一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>此时可以打开浏览器访问userName.github.io(GitHub仓库名)即可以访问到搭建的博客页面</p>
<h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><h3 id="添加解析记录"><a href="#添加解析记录" class="headerlink" title="添加解析记录"></a>添加解析记录</h3><ul>
<li>如果想通过域名访问的就继续，前提是要有自己的域名，要是通过上面的仓库名可以访问就满足的可以跳过这一步</li>
<li>去自己的域名下<a href="https://console.cloud.tencent.com/domain/mydomain" target="_blank" rel="noopener">添加解析</a> 记录类型为 CNAME 主机记录为@ 线路选择默认，TTL选择600，记录值为github的仓库名userName.github.io</li>
</ul>
<h3 id="配置hexo"><a href="#配置hexo" class="headerlink" title="配置hexo"></a>配置hexo</h3><p>创建CNAME配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch ~/hexo/source/CNAME</span><br></pre></td></tr></table></figure>
<p>把刚才解析的域名 例如：gage.com 添加到CNAME配置文件里面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/hexo.source/CNAME</span><br></pre></td></tr></table></figure></p>
<p>然后重新部署一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>此时打开浏览器访问自己的域名即可以访问自己搭建的博客<br>开启自己的<a href="https://hexo.io/" target="_blank" rel="noopener">博客之旅</a>吧</p>
